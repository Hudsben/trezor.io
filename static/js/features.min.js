$(document).ready(function(){function j(){e=a.width=a.scrollWidth,f=a.height=a.scrollHeight,g={x:e/2,y:f/2},h={display:{coor_text:{x:20,y:80},coor_target:{x:g.x-12,y:g.y-60}},case:{coor_text:{x:e-20,y:80},coor_target:{x:g.x+30,y:g.y-145}},buttons:{coor_text:{x:20,y:g.y-20},coor_target:{x:g.x-10,y:g.y+33}},inside:{coor_text:{x:e-20,y:g.y+20},coor_target:{x:g.x+5,y:g.y+120}},usb:{coor_text:{x:20,y:f-200},coor_target:{x:g.x-10,y:g.y+205}}}}function k(a,c,d,e,f){for(var g=a.split("\n"),h=0;h<g.length;h++){for(var i="",j=g[h].split(" "),k=0;k<j.length;k++){var l=i+j[k]+" ",m=b.measureText(l),n=m.width;n>e?(b.fillText(i,c,d),i=j[k]+" ",d+=f):i=l}b.fillText(i,c,d),d+=f}}function l(a,c){b.beginPath(),b.lineWidth=1,b.strokeStyle="#ddd";var d=h[a].coor_target.x,e=h[a].coor_target.y,f=h[a].coor_text.x,g=h[a].coor_text.y,i=document.getElementById(a),j=i.getElementsByTagName("h3")[0].innerHTML;m(d,e,f,g,250),c&&$("#g").css({top:e-3,left:f<d?d+18:d+6}),b.fillStyle="#ddd",b.font="23px 'Open Sans', sans-serif";var l=250;b.fillText(j,f<d?f:f-l,g-12),b.fillStyle="#99979c",b.font="400 15px/1.75 -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif";var n=$(i.getElementsByTagName("p")[0]).text().replace(/\s+/g," ");b.textAlign="left",f<d?k(n,f,g+10,l,17):k(n,f-l,g+10,l,17)}function m(a,c,d,e,f){b.beginPath(),b.arc(d<a?a+6:a-6,c,6,0,2*Math.PI);var g=c-e;if(b.moveTo(a,c),d<a){var h=a-120;b.lineTo(h,c),b.lineTo(h-g,e)}else h=a+120,b.lineTo(h,c),b.lineTo(h+g,e);b.lineTo(d,e),b.stroke(),b.fillStyle="#111111",d<a?b.fillRect(d,e-1,f+15,4):b.fillRect(d-f-15,e-1,f+15,4)}function n(a){j(),b.beginPath(),b.drawImage(i,g.x-182,(f-558)/2,364,568),null==a&&$("#g").hide(),Object.keys(h).map(function(b){l(b,a==b)}),null!=a&&$("#g").show()}var e,f,g,a=document.getElementById("featureCanvas"),b=a.getContext("2d"),c=document.getElementById("features-list"),h=(c.getElementsByClassName("entry"),0),i=new Image;i.onload=function(){n(null)},i.src="./static/images/trezor-black-select.png",$(window).resize(function(){n(null)}),a.addEventListener("mousemove",function(a){var b=a.offsetX,c=a.offsetY,d=null;Object.keys(h).map(function(a){var e=h[a].coor_target.x,g=(h[a].coor_target.y,h[a].coor_text.x),i=h[a].coor_text.y;g<e?g<b&&b<g+250&&i-20<c&&c<i+70&&(d=a):g-250<b&&b<g&&i-20<c&&c<i+70&&(d=a)}),n(d),d=null},!0)});